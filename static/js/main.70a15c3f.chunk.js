(this.webpackJsonpfishymap=this.webpackJsonpfishymap||[]).push([[0],{219:function(e,t,a){e.exports=a.p+"static/media/fish.6bc3fb70.svg"},346:function(e,t,a){e.exports=a.p+"static/media/fish.69593320.jpg"},377:function(e,t,a){e.exports=a(784)},606:function(e,t){},608:function(e,t){},619:function(e,t){},621:function(e,t){},648:function(e,t){},650:function(e,t){},651:function(e,t){},657:function(e,t){},659:function(e,t){},677:function(e,t){},680:function(e,t){},696:function(e,t){},699:function(e,t){},783:function(e,t,a){},784:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(70),o=a.n(r),l=a(13),c=a(33),s=a.n(c),u=a(820),m=a(821),d=a(808),p=a(37),f=a.n(p).a.icon({iconUrl:a(219),iconRetinaUrl:a(219),iconAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[35,35],className:"leaflet-venue-icon"}),g=a(819),h=a(115),b=a.n(h),v=(a(745),a(16)),E=v.a.div.withConfig({displayName:"cardFishcss__CardFishWrapper",componentId:"a6m792-0"})(["display:flex;max-width:340px;width:100%;margin-bottom:15px;"]),y=v.a.span.withConfig({displayName:"cardFishcss__CardFishTitle",componentId:"a6m792-1"})(["display:block;font-size:14px;font-weight:600;line-height:1.2;margin-bottom:5px;text-align:left;"]),w=v.a.div.withConfig({displayName:"cardFishcss__CardFishMediaWrapper",componentId:"a6m792-2"})(["display:flex;flex-direction:column;justify-content:space-between;width:50%;"]),x=v.a.div.withConfig({displayName:"cardFishcss__CardFishMedia",componentId:"a6m792-3"})(["display:flex;flex-direction:column;margin-top:10px;height:100%;min-height:75px;background-color:#000;img{object-fit:cover;width:100%;height:100%;}"]),j=v.a.div.withConfig({displayName:"cardFishcss__CardFishData",componentId:"a6m792-4"})(["position:relative;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;grid-template-areas:'. .' '. .';width:50%;margin-left:15px;&::before,&::after{content:'';position:absolute;background-color:black;top:50%;left:50%;transform:translate(-50%,-50%);}&::before{width:2px;height:100%;}&::after{height:2px;width:100%;}"]),C=v.a.div.withConfig({displayName:"cardFishcss__CardFishDataItem",componentId:"a6m792-5"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0;"]),O=v.a.span.withConfig({displayName:"cardFishcss__CardFishDataItemTitle",componentId:"a6m792-6"})(["display:block;width:100%;text-align:center;font-size:14px;font-weight:600;"]),I=v.a.span.withConfig({displayName:"cardFishcss__CardFishDataItemText",componentId:"a6m792-7"})(["display:block;width:100%;text-align:center;font-size:12px;"]),_=function(e){var t=e.name,a=e.fishImage,n=e.avatar,r=e.fishSpecies,o=e.time;return console.log(e),i.a.createElement(E,null,i.a.createElement(w,null,i.a.createElement(y,null,t),i.a.createElement(x,null,i.a.createElement("img",{src:a._url,alt:""}))),i.a.createElement(j,null,i.a.createElement(C,null,i.a.createElement(O,null,"Te\u017eina"),i.a.createElement(I,null,"1.6kg")),i.a.createElement(C,null,i.a.createElement(O,null,"Vrsta"),i.a.createElement(I,null,r)),i.a.createElement(C,null,i.a.createElement(O,null,"Vrijeme"),i.a.createElement(I,null,i.a.createElement("span",{title:b()(o).startOf("day").fromNow()},b()(o).format("LT")))),i.a.createElement(C,null,i.a.createElement("img",{src:n,alt:""}))))},N=(a(346),function(e){var t=e.data,a=t.name,n=t.species,r=t.createdAt,o=t.fishImage;return i.a.createElement(g.a,null,i.a.createElement(_,{name:a,fishImage:o,fishSpecies:n,time:r,avatar:"https://github.com/moonbyt3/fishymap/blob/master/src/assets/img/icons/fishing.svg"}))}),F=function(e){var t=e.venues.map((function(e,t){return i.a.createElement(d.a,{key:t,position:e.geometry,icon:f},i.a.createElement(N,{data:e}))}));return i.a.createElement(n.Fragment,null,t)},S=(a(747),function(e){Object(n.useContext)(Ne);var t=Object(n.useState)({lat:44.88017,lng:18.808732}),a=Object(l.a)(t,2),r=a[0],o=(a[1],Object(n.useState)(15)),c=Object(l.a)(o,2),d=c[0],p=(c[1],Object(n.useState)([])),f=Object(l.a)(p,2),g=f[0],h=f[1];return Object(n.useEffect)((function(){var e=s.a.Object.extend("fishCatches");new s.a.Query(e).find().then((function(e){var t=[];e.map((function(e){return t.push({name:e.get("name"),description:e.get("description"),geometry:e.get("coordinates"),createdAt:e.get("createdAt"),species:e.get("species"),fishImage:e.get("fishPicture")})})),"undefined"!==typeof document&&h(t)}),(function(e){"undefined"!==typeof document&&document.write("Error while fetching fishCatches: ".concat(JSON.stringify(e))),console.error("Error while fetching fishCatches",e)}))}),[]),i.a.createElement(u.a,{center:r,zoom:d},i.a.createElement(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"FishyMap"}),i.a.createElement(F,{venues:g}))}),k=a(171),U=a(367),P=a(357),A=a.n(P),z=a(811),W=a(361),L=a(812),D=a(816),T=a(813),B=a(815),M=a(362),R=a.n(M),q=a(364),V=a.n(q),H=a(363),X=a.n(H),J=a(365),G=a.n(J),Z=v.a.div.withConfig({displayName:"profilecss__ProfileWrapper",componentId:"tzurhh-0"})(["border:1px solid grey;border-radius:4px;padding:6px;margin-bottom:15px;"]),K=v.a.div.withConfig({displayName:"profilecss__ProfileCard",componentId:"tzurhh-1"})(["display:flex;align-items:center;"]),Q=v.a.div.withConfig({displayName:"profilecss__ProfileCardImg",componentId:"tzurhh-2"})(["width:60px;height:60px;margin-right:6px;border-radius:50%;overflow:hidden;"]),$=v.a.div.withConfig({displayName:"profilecss__ProfileCardText",componentId:"tzurhh-3"})(["width:calc(100% - 66px);"]),Y=v.a.div.withConfig({displayName:"profilecss__ProfileCardTextTitle",componentId:"tzurhh-4"})([""]),ee=(a(219),a(809)),te=a(822),ae=a(810),ne=v.a.div.withConfig({displayName:"UserCatchescss__UserCatchesWrapper",componentId:"sc-8cytcg-0"})(["padding-bottom:30px;> div{margin-bottom:15px;}.MuiCardHeader-title{font-size:16px;font-weight:medium;}"]);var ie=function(e){e.fishImage;var t=Object(n.useState)(null),a=Object(l.a)(t,2),r=a[0],o=a[1],c=Object(n.useContext)(Ne);return Object(n.useEffect)((function(){s.a.Cloud.run("userFishCatches",{userId:c.user.userId}).then((function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].attributes);o(t)}))}),[]),i.a.createElement(ne,null,r&&r.map((function(e,t){var a=e.name,n=e.species,o=e.fishPicture,l=e.updatedAt;return console.log(r),i.a.createElement(ee.a,{key:t},i.a.createElement(te.a,{title:a,subheader:b()(l).format("lll"),style:{fontSize:"14px"}}),i.a.createElement(ae.a,{image:o._url,title:n,style:{height:"0",paddingTop:"56.25%"}}))})))},re=function(){var e=Object(n.useContext)(Ne),t=Object(n.useState)(null),a=Object(l.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.user||null)}),[e.user]),i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Z,null,i.a.createElement(K,null,i.a.createElement(Q,null,r.profilePicture._url&&i.a.createElement("img",{src:e.user.profilePicture._url||"",alt:"User Avatar"})),i.a.createElement($,null,i.a.createElement(Y,null,r.username)))),i.a.createElement(ie,null)))};function oe(e){var t=e.children,a=e.value,n=e.index,r=Object(U.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&i.a.createElement(B.a,{p:3,overflow:"scroll",height:"100vh"},i.a.createElement("div",null,t)))}function le(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ce=Object(z.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tabIcon:{minWidth:"auto"}}}));function se(){var e=ce(),t=Object(W.a)(),a=i.a.useState(0),n=Object(l.a)(a,2),r=n[0],o=n[1],c=i.a.useContext(Ne);return i.a.createElement("div",{className:e.root},i.a.createElement(L.a,{position:"static",color:"default"},i.a.createElement(D.a,{value:r,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"standard","aria-label":"Main menu",centered:!0},i.a.createElement(T.a,Object.assign({className:e.tabIcon,icon:i.a.createElement(R.a,null)},le(0))),i.a.createElement(T.a,Object.assign({className:e.tabIcon,icon:i.a.createElement(X.a,null)},le(1))),i.a.createElement(T.a,Object.assign({className:e.tabIcon,icon:i.a.createElement(V.a,null)},le(2))),i.a.createElement(T.a,{className:e.tabIcon,icon:i.a.createElement(G.a,null),onClick:function(){s.a.User.logOut(),c.setIsLoggedIn(!1),c.setUser(null)}}))),i.a.createElement(A.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:r,onChangeIndex:function(e){o(e)}},i.a.createElement(oe,{value:r,index:0,dir:t.direction},i.a.createElement(re,null)),i.a.createElement(oe,{value:r,index:1,dir:t.direction},"Pretraga i filtracija"),i.a.createElement(oe,{value:r,index:2,dir:t.direction},"Pode\u0161avanja")))}var ue=function(){return i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement(se,null))},me=a(817),de=a(814),pe=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(l.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)(""),p=Object(l.a)(d,2),f=p[0],g=p[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),v=b[0],E=b[1],y=Object(n.useContext)(Ne);return i.a.createElement("div",null,i.a.createElement("h1",{className:"title-big"},"Napravite nalog"),i.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=new s.a.User;t.set("username",f),t.set("password",u),t.set("email",a),t.signUp().then((function(e){console.log("User created successful with name: "+e.get("username")+" and email: "+e.get("email")),y.setUser(e)})).catch((function(e){console.log("Error: "+e.code+" "+e.message),E(e.message)}))}(e)}},i.a.createElement(me.a,{onChange:function(e){return g(e.target.value)},name:"username",value:f,type:"text",placeholder:"username",style:{marginBottom:"15px"}}),i.a.createElement(me.a,{value:a,onChange:function(e){return r(e.target.value)},name:"email",type:"email",placeholder:"email"}),i.a.createElement(me.a,{onChange:function(e){return m(e.target.value)},name:"password",value:u,type:"password",placeholder:"password",style:{marginBottom:"15px"}}),i.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary"},"Registrujte se"),i.a.createElement("span",null,v)))},fe=v.a.span.withConfig({displayName:"logincss__ErrorMessage",componentId:"sc-1gjbtrs-0"})(["display:block;font-size:14px;text-align:center;margin:15px 0;color:#ff3535;"]),ge=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(l.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)(""),p=Object(l.a)(d,2),f=p[0],g=p[1],h=Object(n.useContext)(Ne);return i.a.createElement("div",null,i.a.createElement("h1",{className:"title-big"},"Ulogujte se"),i.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),s.a.User.logIn(a,u).then((function(e){console.log("user: ",e);var t={userId:e.get("objectId"),username:e.get("username"),email:e.get("email"),profilePicture:e.get("profilePicture")};h.setUser(t),h.setIsLoggedIn(!0)})).catch((function(e){console.log("Error: "+e.code+" "+e.message),g(e.message)}))}(e)}},i.a.createElement(me.a,{value:a,onChange:function(e){return r(e.target.value)},name:"email",type:"text",autoFocus:!0,placeholder:"E-mail"}),i.a.createElement(me.a,{onChange:function(e){return m(e.target.value)},name:"password",value:u,type:"password",placeholder:"Password",style:{marginBottom:"15px"}}),i.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary"},"Ulogujte se"),f&&i.a.createElement(fe,null,f)))},he=function(){return i.a.createElement("div",{style:{margin:"auto 0"}},i.a.createElement(ge,null),i.a.createElement("p",{style:{margin:"30% 0"}},"Nemate nalog?",i.a.createElement("br",null)),i.a.createElement(pe,null))},be=v.a.div.withConfig({displayName:"sidebarcss__SidebarWrapper",componentId:"z62yes-0"})([""]),ve=function(){var e=Object(n.useContext)(Ne);return i.a.createElement(be,null,i.a.createElement(k.slide,{right:!0},e.isLoggedIn&&i.a.createElement(ue,null),!e.isLoggedIn&&i.a.createElement(he,null)))},Ee=a(366),ye=a.n(Ee),we=v.a.div.withConfig({displayName:"addFishcss__AddFishWrapper",componentId:"sc-1pq9oc0-0"})([".bm-burger-button{top:63px;width:36px;height:36px;span{display:none;}button{border-radius:50%;background-color:#d2d2d2 !important;border:2px solid black !important;&:focus{outline:none !important;}}&::after{content:'+';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:block;font-size:36px;font-weight:bold;line-height:1;pointer-events:none;}}"]),xe=v.a.form.withConfig({displayName:"addFishcss__AddFishForm",componentId:"sc-1pq9oc0-1"})([""]),je=v.a.div.withConfig({displayName:"addFishcss__AddFishPicture",componentId:"sc-1pq9oc0-2"})([""]),Ce=v.a.div.withConfig({displayName:"addFishcss__AddFishButtonWrap",componentId:"sc-1pq9oc0-3"})(["display:flex;justify-content:center;width:100%;margin-top:50px;"]),Oe=Object(z.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},tabIcon:{minWidth:"auto"},input:{display:"none"}}})),Ie=function(){var e=Oe(),t=Object(n.useState)(null),a=Object(l.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(""),u=Object(l.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),g=f[0],h=f[1],b=Object(n.useState)(""),v=Object(l.a)(b,2),E=v[0],y=v[1],w=Object(n.useContext)(Ne);return i.a.createElement(we,null,i.a.createElement(k.slide,{right:!0},i.a.createElement(xe,{onSubmit:function(e){e.preventDefault();var t=new s.a.File(m,{base64:r}),a=new(s.a.Object.extend("fishCatches"));a.set("name",g),a.set("species",E),a.set("userId",w.user.userId),a.set("fishPicture",t),a.set("coordinates",w.userLocation),a.save().then((function(e){console.log("Fish catch sucessifully saved to the database."),o(null),d(""),h(""),y("")}),(function(e){alert("Failed to create new object, with error code: "+e.message)}))}},i.a.createElement("span",{style:{display:"block",margin:"50px 0 30px"}},"Dodajte novi ulov"),i.a.createElement(me.a,{placeholder:"Ime mjesta ulova",style:{marginBottom:"15px"},onChange:function(e){h(e.target.value)},value:g}),i.a.createElement(je,{style:{marginBottom:"15px"}},i.a.createElement("img",{style:{display:"block",maxHeight:"130px",padding:"0 15px",margin:"0 auto 15px"},src:r&&r}),i.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){d(e.target.files[0].name),function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){console.log("Error: ",e)}}(e.target.files[0],(function(e){o(e)}))}}),i.a.createElement("label",{htmlFor:"contained-button-file"},i.a.createElement(de.a,{variant:"contained",color:"primary",component:"span"},"Fotografija",i.a.createElement(ye.a,{style:{marginLeft:"5px"}})))),i.a.createElement(me.a,{placeholder:"Vrsta ribe",style:{marginBottom:"15px"},value:E,onChange:function(e){y(e.target.value)}}),i.a.createElement(Ce,null,i.a.createElement(de.a,{variant:"contained",color:"primary",type:"submit"},"Po\u0161alji")))))};a(783);s.a.initialize("e4X0mA6gyPKujy5nMcZVX3UuUfnyMv3BN0t8RCVX","XAx1ND5eWojCzGhUkH1aMo4OeotoirZvDP5qqaDC"),s.a.serverURL="https://parseapi.back4app.com";var _e={height:window.innerHeight},Ne=i.a.createContext(null);var Fe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),c=Object(l.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),f=p[0],g=p[1];return Object(n.useEffect)((function(){var e=s.a.User.current();e&&(m({userId:e.id,username:e.get("username"),profilePicture:e.get("profilePicture")}),r(!0)),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=[e.coords.latitude,e.coords.longitude];g(t)})):alert("Geo Location not supported by browser")}),[]),i.a.createElement(Ne.Provider,{value:{isLoggedIn:a,setIsLoggedIn:r,user:u,setUser:m,userLocation:f}},i.a.createElement("div",{className:"App",style:{height:"".concat(_e.height,"px")}},a&&i.a.createElement(Ie,null),i.a.createElement(ve,null),i.a.createElement(S,null)))},Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(i.a.createElement(Fe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fishymap",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/fishymap","/service-worker.js");Se?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ke(t,e)}))}}()}},[[377,1,2]]]);
//# sourceMappingURL=main.70a15c3f.chunk.js.map